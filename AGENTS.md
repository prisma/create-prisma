# Repository Guidelines

## Project Structure & Module Organization
- `src/` contains all TypeScript source code.
- `src/commands/` defines CLI entry flows (`create`, `init`).
- `src/tasks/` contains side-effectful operations (dependency writes, Prisma Postgres provisioning, file setup).
- `src/templates/` contains template rendering utilities.
- `templates/` stores Handlebars template files:
  - `templates/init/` for Prisma setup files.
  - `templates/create/hono/` for first-party project scaffolding.
  - `templates/create/next/` for Next.js App Router project scaffolding.
- `dist/` is build output (generated by `tsdown`), not hand-edited.

## Build, Test, and Development Commands
- `bun install` installs dependencies.
- `bun run dev` runs `tsdown --watch` for iterative development.
- `bun run build` builds ESM artifacts into `dist/`.
- `bun run typecheck` runs `tsc --noEmit`.
- `bun run start -- <args>` runs the built CLI (example: `bun run start -- create --help`).
- `bun run changeset` creates a changeset entry for user-facing changes.
- `bun run release` builds and publishes via npm trusted publishing.

## Coding Style & Naming Conventions
- Language: TypeScript (ESM). Keep imports extensionless (no `.js`).
- Use 2-space indentation and concise, descriptive function names.
- Prefer explicit types for public module surfaces.
- Centralize shared schemas/types in `src/types.ts`.
- Keep command orchestration in `src/commands/*` and reusable IO logic in `src/tasks/*`.

## Testing Guidelines
- No formal test suite is configured yet.
- Minimum validation for every change:
  1. `bun run typecheck`
  2. `bun run build`
  3. Manual CLI smoke test for changed flows (for example `create`/`init` with `--yes`).
- When changing output UX, include before/after sample output in the PR.

## Commit & Pull Request Guidelines
- Follow conventional-style commit messages seen in history:
  - `feat(init): ...`
  - `feat(create): ...`
  - `refactor: ...`
  - `chore: ...`
- PRs should include:
  - clear summary of behavior changes,
  - validation commands run,
  - notes on template/schema/dependency impacts.
- Add/update changesets for release-relevant changes.

## Security & Configuration Notes
- `create-db` returns live credentials/claim URLs; never commit generated `.env` files.
- Ensure generated client output (`prisma/generated`) remains ignored in projects.
